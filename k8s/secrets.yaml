# Open WebUI Secrets
# ===================
# IMPORTANT: This file contains placeholders. You must create the secret manually:
#
# Option 1: Create from literal values (recommended for initial setup)
# kubectl create secret generic open-webui-secrets \
#   --namespace open-webui \
#   --from-literal=WEBUI_SECRET_KEY=$(openssl rand -hex 32) \
#   --from-literal=DATABASE_PASSWORD=$(openssl rand -base64 24 | tr -d '=/+') \
#   --from-literal=OPENWEBUI_ADMIN_PASSWORD="your-secure-admin-password" \
#   --from-literal=OPENAI_API_KEY="hf_your_huggingface_token" \
#   --from-literal=RAG_OPENAI_API_KEY="sk-your-openai-key-for-embeddings"
#
# Option 2: Create from a .env file (converts all KEY=value pairs to secret data)
# kubectl create secret generic open-webui-secrets \
#   --namespace open-webui \
#   --from-env-file=k8s/.env.secrets
#
# Option 3: Apply this file after base64-encoding your values
# kubectl apply -f k8s/secrets.yaml
#
# To update a secret:
# kubectl delete secret open-webui-secrets -n open-webui
# Then recreate using Option 1 or 2
#
# To view secret keys (not values):
# kubectl get secret open-webui-secrets -n open-webui -o jsonpath='{.data}' | jq 'keys'
#
# To decode a secret value:
# kubectl get secret open-webui-secrets -n open-webui -o jsonpath='{.data.OPENAI_API_KEY}' | base64 -d
# ---
apiVersion: v1
kind: Secret
metadata:
  name: open-webui-secrets
  namespace: open-webui
type: Opaque
stringData:
  # Session encryption key (generate with: openssl rand -hex 32)
  WEBUI_SECRET_KEY: "REPLACE_ME"

  # PostgreSQL password (must match postgres.yaml secret)
  DATABASE_PASSWORD: "REPLACE_ME"

  # Admin user credentials for automated bootstrap
  OPENWEBUI_ADMIN_PASSWORD: "REPLACE_ME"

  # LLM Provider API Key (Hugging Face or OpenAI)
  OPENAI_API_KEY: "REPLACE_ME"

  # RAG Embedding API Key (can be same as above or different)
  RAG_OPENAI_API_KEY: "REPLACE_ME"
